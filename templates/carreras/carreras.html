{% extends 'comun/base.html' %}
{% import 'comun/modal_eliminar.html' as modal_eliminar %}

{% block content %}
<div class="container p-2">
    <h2 class="text-center">Lista de Carreras</h2>
    <form method="GET" action="{{ url_for('routes_carreras.obtener_carreras') }}" class="mb-3">
        <div class="row">
            <div class="col-10">
                <div class="row">
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="universidad" name="universidad" placeholder="Universidad" value="{{ filtros.get('nombre', '') }}">
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="facultad" name="facultad" placeholder="Facultad" value="{{ filtros.get('nombre', '') }}">
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="campus" name="campus" placeholder="Campus" value="{{ filtros.get('nombre', '') }}">
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="programa" name="programa" placeholder="Programa" value="{{ filtros.get('nombre', '') }}">
                    </div>
                </div>
            </div>
            <div class="col-2">
                <button type="submit" class="btn btn-primary"><i class="fa-solid fa-filter"></i></button>
            </div>
        </div>
    </form>

    <table id="carreras" class="display" style="width:100%;">
        <thead>
            <tr>
                <th>ID</th>
                <th>Universidad</th>
                <th>Facultad</th>
                <th>Campus</th>
                <th>Programa</th>
            </tr>
        </thead>
        <tbody>
            {% for carrera in carreras %}
            <tr>
                <td>{{ carrera.id }}</td>
                <td>{{ carrera.universidad.nombre }}</td>
                <td>{{ carrera.facultad.nombre }}</td>
                <td>{{ carrera.campus.nombre }}</td>
                <td>{{ carrera.programa.nombre }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<a class="btn btn-primary" href="{{ url_for('routes.index') }}">Volver a Inicio</a>
</div>

<script>
	$(document).ready(function () {
		var table = $('#carreras').DataTable({
			language: {
				url: 'http://cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json'
			},
		});

	});
</script>
{% endblock %}
